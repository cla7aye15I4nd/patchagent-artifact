=================================================================
==304381==ERROR: AddressSanitizer: stack-buffer-overflow on address 0x7f6a6f00871f at pc 0x7f6a7259d885 bp 0x7fff0f64bc90 sp 0x7fff0f64bc88
WRITE of size 1 at 0x7f6a6f00871f thread T0
    #0 0x7f6a7259d884 in gf_m2ts_get_adaptation_field /root/src/media_tools/mpegts.c:2471:21
    #1 0x7f6a7258fe57 in gf_m2ts_process_packet /root/src/media_tools/mpegts.c:2565:16
    #2 0x7f6a7258f30d in gf_m2ts_process_data /root/src/media_tools/mpegts.c:2842:18
    #3 0x7f6a72db14b3 in m2tsdmx_configure_pid /root/src/filters/dmx_m2ts.c:1173:5
    #4 0x7f6a72b52378 in gf_filter_pid_configure /root/src/filter_core/filter_pid.c:876:6
    #5 0x7f6a72b73846 in gf_filter_pid_connect_task /root/src/filter_core/filter_pid.c:1230:3
    #6 0x7f6a72bdbed4 in gf_fs_thread_proc /root/src/filter_core/filter_session.c:2105:3
    #7 0x7f6a72bd7cfb in gf_fs_run /root/src/filter_core/filter_session.c:2405:3
    #8 0x7f6a724e80df in gf_dasher_process /root/src/media_tools/dash_segmenter.c:1236:6
    #9 0x55c5d7d911ce in do_dash /root/applications/mp4box/mp4box.c:4831:15
    #10 0x55c5d7d85cc3 in mp4box_main /root/applications/mp4box/mp4box.c:6245:7
    #11 0x55c5d7d8c841 in main /root/applications/mp4box/mp4box.c:6939:1
    #12 0x7f6a716fb1c9  (/lib/x86_64-linux-gnu/libc.so.6+0x2a1c9) (BuildId: 8f2af70b7deed50338b9186c7dd60cef3826e18f)
    #13 0x7f6a716fb28a in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x2a28a) (BuildId: 8f2af70b7deed50338b9186c7dd60cef3826e18f)
    #14 0x55c5d7d6be04 in _start (/root/bin/gcc/MP4Box+0x49e04) (BuildId: 42052a9186894beb09d0c7707cd7baaa3c0c4c43)

Address 0x7f6a6f00871f is located in stack of thread T0 at offset 287 in frame
    #0 0x7f6a7259c1df in gf_m2ts_get_adaptation_field /root/src/media_tools/mpegts.c:2350

  This frame has 2 object(s):
    [32, 287) 'URL' (line 2442) <== Memory access at offset 287 overflows this variable
    [352, 392) 'temi_loc' (line 2443)
HINT: this may be a false positive if your program uses some custom stack unwind mechanism, swapcontext or vfork
      (longjmp and C++ exceptions *are* supported)
SUMMARY: AddressSanitizer: stack-buffer-overflow /root/src/media_tools/mpegts.c:2471:21 in gf_m2ts_get_adaptation_field
Shadow bytes around the buggy address:
  0x7f6a6f008480: 00 f2 f2 f2 f2 f2 f8 f8 f8 f2 f2 f2 f2 f2 f8 f8
  0x7f6a6f008500: f8 f8 f8 f3 f3 f3 f3 f3 00 00 00 00 00 00 00 00
  0x7f6a6f008580: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7f6a6f008600: f1 f1 f1 f1 00 00 00 00 00 00 00 00 00 00 00 00
  0x7f6a6f008680: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x7f6a6f008700: 00 00 00[07]f2 f2 f2 f2 f2 f2 f2 f2 00 00 00 00
  0x7f6a6f008780: 00 f3 f3 f3 f3 f3 f3 f3 00 00 00 00 00 00 00 00
  0x7f6a6f008800: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7f6a6f008880: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7f6a6f008900: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7f6a6f008980: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==304381==ABORTING
